<!DOCTYPE html><html lang="en"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/assets/main.css"> <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><header class="site-header" role="banner"><div class="wrapper"><div class="brand-image-border"> <a href="/"><img class="brand-image" src="/assets/header-ico.png"/></a></div><div class="wrapper"><a class="site-title" rel="author" href="/">Calvin Lei-Cramer</a></div></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><header class="post-header"><h1 class="post-title p-name" itemprop="name headline">Drowning in Git Clones</h1><p class="post-meta"> <time class="dt-published" datetime="2023-05-29T05:12:12-07:00" itemprop="datePublished">2023-05-29 </time></p></header><div class="post-content e-content" itemprop="articleBody"><p>At some point in the past few years I realized that working on a more and more git repos simultaneously led to me forgetting which clone are kept up to date and what changes they have, so I created a little tool to see the <code class="language-plaintext highlighter-rouge">git status</code> of many clones at once. I’m really surprised at how useful it has been for my workflow, and how I consistently use it every day. This tool essentially looks for git clones recursively (like <code class="language-plaintext highlighter-rouge">find</code>) and prints a one-line <code class="language-plaintext highlighter-rouge">git status</code> summary.</p><p>The first version of this tool was written in <strong><em>python</em></strong> (uhg how slow, I know!). The code for the first version looks like it was written in a hurried state. I was probably fed up with the issue and made this tool quickly to then move on with other tasks.</p><p>At first I was <em>determined</em> to make a new version in a compiled language in order to optimize for execution speed and correctness. After all, who would want to use my suboptimal <strong>interpreted</strong> script, rather than a <em>extremely fast</em> compiled C or Golang program?</p><p><strong><em>I have since concluded that spending time on a reimplementation is and has been a waste of time</em></strong>. The first version - even in its hacky and hurried state - worked fine, <strong>great</strong> even. It’s worked pretty much perfectly for a long time. A reimplementation would have no benefit other than an unnoticeable speed improvement and to avoid embarrassment by not using the best fastest language of the month.</p><p>Here is the <a href="#python-code">Python implementation</a>. Here’s a similar implementation for <a href="#bash-code">Bash</a> that works well too, and has color. Here’s an example of what the outputs look like:</p><div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>user@linux:~/repos <span class="nv">$ </span>git-status-check-recursive
<span class="c"># Python version</span>
<span class="c">#### /home/user/repos</span>
./foo         Good
./bar ....... <span class="o">(</span>modifications<span class="o">)</span>
./baz ....... <span class="o">(</span>untracked files<span class="o">)</span>
./baf         Good

<span class="c"># Bash version (has color not shown here)</span>
./foo/.git    good
./bar/.git    <span class="o">(</span>2 commits behind<span class="o">)</span> <span class="o">(</span>unstaged changes<span class="o">)</span> <span class="o">(</span>untracked changes<span class="o">)</span>
./baz/.git    <span class="o">(</span>3 commits ahead<span class="o">)</span> <span class="o">(</span>staged changes<span class="o">)</span>
./baf/.git    <span class="o">(</span>2 commits behind<span class="o">)</span> <span class="o">(</span>unstaged changes<span class="o">)</span> <span class="o">(</span>1 stash<span class="o">)</span>
</code></pre></div></div><p><br /> This project has been a lesson for me in recognizing what efforts are actually necessary - the classic lesson of “<em>premature optimization is the root of all evil</em>”. I guess this is repentance for my sins :^)</p><p><br /> <br /> <br /> <br /> <br /></p><hr /><p><br /> <br /></p><h2 id="extra-unnecessary-research-feel-free-to-skip">Extra Unnecessary Research, Feel Free To Skip!</h2><h3 id="possible-clone-states">Possible Clone States</h3><p>In the first version I started out by just going over the git states I knew and have seen before:</p><ul><li>untracked and uncommitted changes (aka untracked - new files not seen by git before)<li>tracked and uncommitted changed (aka modified)<li>added changes (aka staged, what will be committed)<li>local commit not pushed (your branch is ahead by <code class="language-plaintext highlighter-rouge">N</code> commits!)<li>branch behind remote by <code class="language-plaintext highlighter-rouge">N</code> commits<li>clean state with a remote branch (your branch is up to date with origin/X)<li>clean state without a remote branch (branch local to your clone)<li>detached head without changes<li>detached head with changes<li>no commits yet (new repo)</ul><p>but I know at least of <code class="language-plaintext highlighter-rouge">git stash</code> which I haven’t handled yet, since I never use it (unintentional avoidance maybe, I just commit and then squash later). So here are all of the possible states a clone can be in, broken down into multiple independent areas. After all, the whole point of this tool is to provide this information in a clear manner!</p><ol><li><em>working directory</em><ol><li>no changes<li>changes to tracked/untracked files</ol><li><em>staging area</em><ol><li>nothing staged<li>things staged</ol><li><em>head status</em><ol><li>no change - head is at remote head<li>detached<li>ahead by N commits<li>behind by N commits<li>ahead by N commits and behind by M commits</ol><li><em>stash / index</em><ol><li>no stashes<li><code class="language-plaintext highlighter-rouge">N</code> stashes where <code class="language-plaintext highlighter-rouge">N</code> &gt; 1</ol><li><em>special operations in progress</em><ol><li>no special operations in progress<li>merge in progress<ul><li>only happens when there are conflicts<li>will cause conflicts to be put in working directory<li>will cause merged files to be put in staging<li>run <code class="language-plaintext highlighter-rouge">git commit</code> or <code class="language-plaintext highlighter-rouge">git merge --continue</code> to continue</ul><li>rebase in progress<ul><li>happens on conflict<li>cant do rebase with staged or unstaged changes changes will</ul><li>cherry-pick in progress<ul><li>happens on conflict<li>can’t do when things staged</ul><li>bisect in progress</ol></ol><p>So now we have five (mostly) independent states to track, not considering submodules. I decided to combine the categories of “changes to tracked files” and “changes to untracked file”, since most of the time I don’t care to differentiate these two groups. An example of one possible clone status is (1) untracked changes to <code class="language-plaintext highlighter-rouge">README.md</code>, (2) changes to <code class="language-plaintext highlighter-rouge">foo.txt</code> are staged, (3) our branch is behind by 5 commits, (4) we have two stashes, and (5) there is a bisect in progress.</p><p>If there are more states please not covered let me know!</p><h3 id="testing">Testing</h3><p>In order to check our status reports correctly, we need to go through each possible state. I made a bash script to make a clone in every permutation of states. From this I learned that a merge cannot be started with there are changes in staging. I also learned that <code class="language-plaintext highlighter-rouge">git rebase</code> is more picky; it cannot be started if there are any changes in staging or any unstaged changes.</p><h3 id="how-does-version-1-handle-all-possible-states">How Does Version 1 Handle All Possible States?</h3><p><del>details removed</del></p><p>The first version doesn’t handle rebase, so I fixed it.</p><h3 id="getting-the-status-information">Getting The Status Information</h3><p>The python version found the status of a clone by running <code class="language-plaintext highlighter-rouge">git status</code> in a subprocess, and then checking for particular substrings in the output. For example, if <code class="language-plaintext highlighter-rouge">HEAD detached at</code> was in the output then we know that the head is detached, simple and morbid!</p><p>There are porcelain v1 and v2 formats that are better for programmatic use. TLDR use porcelain v1:</p><ul><li>first character - main category of change<ul><li>1 –&gt; ordinary changes<li>2 –&gt; renamed things<li>u –&gt; unmerged<li>? –&gt; untracked<li>! –&gt; ignored</ul><li><code class="language-plaintext highlighter-rouge">XY</code> - X is for staged, Y is for unstaged<ul><li>M - modified<li>A - added<li>D - deleted<li>R - renamed<li>C - copied<li>U - unmerged (<code class="language-plaintext highlighter-rouge">u UU</code> = both modified, <code class="language-plaintext highlighter-rouge">u AA</code> = both added)</ul><li><code class="language-plaintext highlighter-rouge">--branch</code> gives:<ul><li><code class="language-plaintext highlighter-rouge">branch.oid &lt;commit&gt; | (initial)</code> - Current commit<li><code class="language-plaintext highlighter-rouge">branch.head &lt;branch&gt; | (detached)</code> - Current branch<li><code class="language-plaintext highlighter-rouge">branch.upstream &lt;upstream_branch&gt;</code> - If upstream is set<li><code class="language-plaintext highlighter-rouge">branch.ab +&lt;ahead&gt; -&lt;behind&gt;</code> - If upstream is set and the commit is present</ul></ul><p>Other sources:</p><ul><li><code class="language-plaintext highlighter-rouge">git status --show-stash --branch</code> - don’t use, format is brittle, but has all the information needed<li><code class="language-plaintext highlighter-rouge">git status --porcelain=v2 --show-stash --branch</code> - show stash doesn’t actually do anything<li><code class="language-plaintext highlighter-rouge">git status --porcelain=v1 --show-stash --branch</code> - v2 is better<li><code class="language-plaintext highlighter-rouge">git ls-files -t --cached --deleted --others --stage --modified</code> - a worse version of <code class="language-plaintext highlighter-rouge">git status</code><li><code class="language-plaintext highlighter-rouge">.git</code> folder - no thanks to that rabbit hole<li><code class="language-plaintext highlighter-rouge">git status --short --branch --show-stash</code> - like porcelain v1 but <em>with color</em></ul><p>Porcelain v2 doesn’t show the status of in process merges, rebase, cherry-pick, and bisect. Also we want to show the state of the stash. THis information can be easily retrieved with these files:</p><ul><li><code class="language-plaintext highlighter-rouge">.git/BISECT_LOG</code><li><code class="language-plaintext highlighter-rouge">.git/CHERRY_PICK_HEAD</code><li><code class="language-plaintext highlighter-rouge">.git/MERGE_HEAD</code><li><code class="language-plaintext highlighter-rouge">.git/REBASE_HEAD</code></ul><h3 id="benchmarking">Benchmarking</h3><p><del>details removed</del></p><p>The python version has an overhead per clone of 10 milliseconds, the bash version is 16 milliseconds.</p><h3 id="version-3---golang">Version 3 - golang</h3><p><del>details removed</del></p><h3 id="version-4---can-we-do-better-than-unix-find">Version 4 - can we do better than UNIX <code class="language-plaintext highlighter-rouge">find</code>?</h3><p><del>details removed</del></p><p>(future me - SMH)</p><p><br /> <br /></p><hr /><p><br /> <br /></p><h2 id="python-code">Python Code</h2><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/python3
</span><span class="kn">import</span> <span class="n">os</span>
<span class="kn">from</span> <span class="n">subprocess</span> <span class="kn">import</span> <span class="n">run</span><span class="p">,</span> <span class="n">Popen</span><span class="p">,</span> <span class="n">DEVNULL</span><span class="p">,</span> <span class="n">PIPE</span><span class="p">,</span> <span class="n">STDOUT</span>
<span class="kn">import</span> <span class="n">argparse</span>

<span class="n">BASE_DIRS</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="p">.</span><span class="nf">getcwd</span><span class="p">()]</span>   <span class="c1"># Directories to search for git clones from:
</span><span class="n">SKIP</span> <span class="o">=</span> <span class="nf">set</span><span class="p">([])</span>              <span class="c1"># Skip over certain directories (folder name only)
</span><span class="n">SKIP_FETCH</span> <span class="o">=</span> <span class="nf">set</span><span class="p">([])</span>        <span class="c1"># Skip 'git fetch' stage
</span>
<span class="k">def</span> <span class="nf">find_git_clones</span><span class="p">(</span><span class="n">_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">list_dir</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="nf">listdir</span><span class="p">(</span><span class="n">_dir</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">PermissionError</span> <span class="k">as</span> <span class="n">perm_err</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="s">'.git'</span> <span class="ow">in</span> <span class="n">list_dir</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">_dir</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">d_abs</span> <span class="ow">in</span> <span class="nf">sorted</span><span class="p">([</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">_dir</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">list_dir</span><span class="p">]):</span>
            <span class="k">if</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">isdir</span><span class="p">(</span><span class="n">d_abs</span><span class="p">)</span> <span class="ow">and</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="n">d_abs</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">SKIP</span><span class="p">:</span>
                <span class="k">yield</span> <span class="k">from</span> <span class="nf">find_git_clones</span><span class="p">(</span><span class="n">d_abs</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_git_status_string</span><span class="p">(</span><span class="n">status</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="s">""" Map the `git status` response to a simple one-line status """</span>
    <span class="n">detached_head</span> <span class="o">=</span> <span class="s">'HEAD detached at'</span> <span class="ow">in</span> <span class="n">status</span>
    <span class="n">working_tree_clean</span> <span class="o">=</span> <span class="s">'nothing to commit, working tree clean'</span> <span class="ow">in</span> <span class="n">status</span>
    <span class="n">local_branch_up_to_date</span> <span class="o">=</span> <span class="s">'Your branch is up to date with'</span> <span class="ow">in</span> <span class="n">status</span>
    <span class="n">local_branch_behind</span> <span class="o">=</span> <span class="s">'Your branch is behind'</span> <span class="ow">in</span> <span class="n">status</span>
    <span class="n">local_branch_ahead</span> <span class="o">=</span> <span class="s">'Your branch is ahead of'</span> <span class="ow">in</span> <span class="n">status</span>
    <span class="n">local_branch_needs_to_be_pushed_upstream</span> <span class="o">=</span> \
        <span class="p">(</span><span class="ow">not</span> <span class="n">local_branch_up_to_date</span><span class="p">)</span> \
        <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">local_branch_ahead</span><span class="p">)</span> \
        <span class="ow">and</span> <span class="n">working_tree_clean</span> \
        <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">detached_head</span><span class="p">)</span>
    <span class="n">local_has_stages_changes</span> <span class="o">=</span> <span class="s">'Changes to be committed'</span> <span class="ow">in</span> <span class="n">status</span>
    <span class="n">local_has_untracked</span> <span class="o">=</span> <span class="s">'Untracked files'</span> <span class="ow">in</span> <span class="n">status</span>
    <span class="n">local_has_tracked_modifications</span> <span class="o">=</span> <span class="s">'Changes not staged for commit'</span> <span class="ow">in</span> <span class="n">status</span>
    <span class="n">submodules_have_new</span> <span class="o">=</span> <span class="s">'(new commits)'</span> <span class="ow">in</span> <span class="n">status</span>
    <span class="n">no_commits</span> <span class="o">=</span> <span class="s">'No commits yet'</span> <span class="ow">in</span> <span class="n">status</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="s">''</span>
    <span class="k">if</span> <span class="n">detached_head</span><span class="p">:</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="s">' (detached head)'</span>
    <span class="k">if</span> <span class="n">local_branch_up_to_date</span> <span class="ow">and</span> <span class="n">working_tree_clean</span><span class="p">:</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="s">'Good'</span>
    <span class="k">if</span> <span class="n">local_branch_behind</span> <span class="ow">and</span> <span class="n">working_tree_clean</span><span class="p">:</span>
        <span class="c1"># Get number of commits behind from status
</span>        <span class="c1"># Bad way to do this, should do in better way like:
</span>        <span class="c1"># git rev-list &lt;branch&gt;..origin/&lt;branch&gt; --count
</span>        <span class="n">end</span> <span class="o">=</span> <span class="n">status</span><span class="p">.</span><span class="nf">index</span><span class="p">(</span><span class="s">' commit'</span><span class="p">)</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">end</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">start</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">status</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">!=</span> <span class="s">' '</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="n">start</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">n_commits</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">status</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">].</span><span class="nf">strip</span><span class="p">())</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s">" (Behind by </span><span class="si">{</span><span class="n">n_commits</span><span class="si">}</span><span class="s"> commit</span><span class="si">{</span><span class="s">'s'</span> <span class="k">if</span> <span class="n">n_commits</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="s">''</span><span class="si">}</span><span class="s">)"</span>
    <span class="k">if</span> <span class="n">local_branch_ahead</span><span class="p">:</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="s">' (commits to push)'</span>
    <span class="k">if</span> <span class="n">local_has_stages_changes</span><span class="p">:</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="s">' (staged changes to be committed)'</span>
    <span class="k">if</span> <span class="n">local_has_untracked</span><span class="p">:</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="s">' (untracked files)'</span>
    <span class="k">if</span> <span class="n">local_branch_needs_to_be_pushed_upstream</span><span class="p">:</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="s">' (local branch needs to be pushed upstream)'</span>
    <span class="k">if</span> <span class="n">local_has_tracked_modifications</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">submodules_have_new</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="s">' (modifications or submodules out-of-date)'</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="s">' (modifications)'</span>
    <span class="k">if</span> <span class="n">no_commits</span><span class="p">:</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="s">' (no commits - empty repository or maybe currently cloning)'</span>
    <span class="k">if</span> <span class="n">ret</span> <span class="o">==</span> <span class="s">''</span><span class="p">:</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="s">' (NADA)'</span>
    <span class="k">return</span> <span class="n">ret</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">print_repo_statuses</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
    <span class="s">""" Print repos from the git_repo_paths global """</span>
    <span class="n">prev_git_path_rel</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">for</span> <span class="n">git_path_abs</span> <span class="ow">in</span> <span class="nf">find_git_clones</span><span class="p">(</span><span class="n">base_dir</span><span class="p">):</span>
        <span class="n">os</span><span class="p">.</span><span class="nf">chdir</span><span class="p">(</span><span class="n">git_path_abs</span><span class="p">)</span>
        <span class="c1"># Get the directory path from where the script was called from, not abs
</span>        <span class="n">git_path_rel</span> <span class="o">=</span> <span class="n">git_path_abs</span><span class="p">[</span><span class="nf">len</span><span class="p">(</span><span class="n">base_dir</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>
        <span class="k">if</span> <span class="n">git_path_rel</span> <span class="ow">in</span> <span class="n">SKIP</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">args</span><span class="p">.</span><span class="n">fetch</span> <span class="ow">and</span> <span class="n">git_path_rel</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">SKIP_FETCH</span><span class="p">:</span>
            <span class="nf">run</span><span class="p">([</span><span class="s">'git'</span><span class="p">,</span> <span class="s">'fetch'</span><span class="p">,</span> <span class="s">'origin'</span><span class="p">],</span> <span class="n">stdout</span><span class="o">=</span><span class="n">DEVNULL</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">DEVNULL</span><span class="p">)</span>
        <span class="n">out</span> <span class="o">=</span> <span class="nc">Popen</span><span class="p">([</span><span class="s">'git'</span><span class="p">,</span> <span class="s">'status'</span><span class="p">],</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">STDOUT</span><span class="p">)</span>
        <span class="n">std_out</span><span class="p">,</span> <span class="n">std_err</span> <span class="o">=</span> <span class="n">out</span><span class="p">.</span><span class="nf">communicate</span><span class="p">()</span>
        <span class="c1"># Separate top-level directories with empty line
</span>        <span class="k">if</span> <span class="n">prev_git_path_rel</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">_split_prev</span> <span class="o">=</span> <span class="n">prev_git_path_rel</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">sep</span><span class="p">)</span>
            <span class="n">_split_cur</span> <span class="o">=</span> <span class="n">git_path_rel</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">sep</span><span class="p">)</span>
            <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">_split_prev</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="nf">len</span><span class="p">(</span><span class="n">_split_cur</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">_split_prev</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">_split_cur</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="nf">print</span><span class="p">()</span>
        <span class="n">prev_git_path_rel</span> <span class="o">=</span> <span class="n">git_path_rel</span>
        <span class="c1"># Print repo and ... and status string
</span>        <span class="n">status</span> <span class="o">=</span> <span class="nf">get_git_status_string</span><span class="p">(</span><span class="n">std_out</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">))</span>
        <span class="n">_path</span> <span class="o">=</span> <span class="s">'./'</span> <span class="o">+</span> <span class="n">git_path_rel</span>
        <span class="k">if</span> <span class="n">status</span> <span class="o">!=</span> <span class="s">'Good'</span><span class="p">:</span>
            <span class="n">_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="n">_path</span><span class="si">}</span><span class="s"> </span><span class="si">{</span><span class="s">"."</span> <span class="o">*</span> <span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">width</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="nf">len</span><span class="p">(</span><span class="n">_path</span><span class="p">))</span><span class="si">}</span><span class="s">'</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_path</span> <span class="o">=</span> <span class="s">'{:{}}'</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">_path</span><span class="p">,</span> <span class="n">args</span><span class="p">.</span><span class="n">width</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">_path</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">''</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">' '</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">''</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="nf">get_git_status_string</span><span class="p">(</span><span class="n">std_out</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)))</span>

<span class="k">def</span> <span class="nf">parse_args</span><span class="p">():</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s">"Find git repos recursively and print git status"</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>
        <span class="s">'--fetch'</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s">'store_true'</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s">'Fetch origin to see how many commits behind'</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>
        <span class="s">'--width'</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s">"Column to start printing status at"</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">base_dir</span> <span class="ow">in</span> <span class="n">BASE_DIRS</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"#### </span><span class="si">{</span><span class="n">base_dir</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
        <span class="nf">print_repo_statuses</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="nf">parse_args</span><span class="p">())</span>
</code></pre></div></div><h2 id="bash-code">Bash Code</h2><p>Compressed</p><div class="language-bash code-no-wrap highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash</span>
find <span class="nb">.</span> <span class="nt">-type</span> d <span class="nt">-name</span> <span class="s1">'.git'</span> <span class="nt">-exec</span> bash <span class="nt">-c</span> <span class="s1">'cd {}/..;echo -ne "{}\t";B="\e[1m";G="\e[42m";R="\e[41m";M="\e[45m";N="\e[0m";s=$(git status --porcelain=v2 -b -z | tr "\0" "\n");g=1;[[ "$s" == *"branch.oid (initial)"* ]] &amp;&amp; i=1 &amp;&amp; g=0;if [ "$i" = "1" ];then echo -n "(initial) ";else [[ "$s" == *"branch.head (detached)"* ]] &amp;&amp; h=1 &amp;&amp; g=0;if [ "$h" = "1" ];then echo -en "(${R}detached head$N) ";g="0";else a=$(echo "$s" | grep "# branch.ab " | cut -d" " -f3 | cut -c2-);[ "$a" == "1" ] || z="s";[ "$a" != "0" ] &amp;&amp; echo -en "($B$a$N commit$z ahead) " &amp;&amp; g=0;b=$(echo "$s" | grep "# branch.ab " | cut -d" " -f4 | cut -c2-);[ "$b" == "1" ] || y="s";[ "$b" != "0" ] &amp;&amp; echo -en "($B$b$N commit$y behind) " &amp;&amp; g=0;fi;fi;echo "$s" | grep -q "^[u12] [^.]." &amp;&amp; echo -en "(${G}staged changes$N) " &amp;&amp; g=0;echo "$s" | grep -q "^[u12] .[^.]" &amp;&amp; echo -en "(${R}unstaged changes$N) " &amp;&amp; g=0;echo "$s" | grep -q "^\?" &amp;&amp; echo -en "(${R}untracked changes$N) " &amp;&amp; g=0;[ -f .git/REBASE_HEAD ] &amp;&amp; echo -en "(${M}rebasing$N) " &amp;&amp; g=0;[ -f .git/CHERRY_PICK_HEAD ] &amp;&amp; echo -en "(${M}cherry pick$N) " &amp;&amp; g=0;[ -f .git/MERGE_HEAD ] &amp;&amp; echo -en "(${M}merging$N) " &amp;&amp; g=0;[ -f .git/BISECT_LOG ] &amp;&amp; echo -en "(${M}bisecting$N) " &amp;&amp; g=0;t=$(git stash list -z --pretty=format:"A" | tr -d "\0" | wc -c);[ "$t" == "1" ] || x="es";[ "$t" != "0" ] &amp;&amp; echo -en "($B$t$N stash$x) " &amp;&amp; g=0;[ "$g" == "1" ] &amp;&amp; echo -n "good";echo'</span> <span class="se">\;</span>
</code></pre></div></div><p>As an alias:</p><div class="language-bash code-no-wrap highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">alias </span>git-status-check-recursive<span class="o">=</span><span class="s1">'find . -type d -name '</span><span class="s2">"'"</span><span class="s1">'.git'</span><span class="s2">"'"</span><span class="s1">' -exec bash -c '</span><span class="s2">"'"</span><span class="s1">'cd {}/..;echo -ne "{}\t";B="\e[1m";G="\e[42m";R="\e[41m";M="\e[45m";N="\e[0m";s=$(git status --porcelain=v2 -b -z | tr "\0" "\n");g=1;[[ "$s" == *"branch.oid (initial)"* ]] &amp;&amp; i=1 &amp;&amp; g=0;if [ "$i" = "1" ];then echo -n "(initial) ";else [[ "$s" == *"branch.head (detached)"* ]] &amp;&amp; h=1 &amp;&amp; g=0;if [ "$h" = "1" ];then echo -en "(${R}detached head$N) ";g="0";else a=$(echo "$s" | grep "# branch.ab " | cut -d" " -f3 | cut -c2-);[ "$a" == "1" ] || z="s";[ "$a" != "0" ] &amp;&amp; echo -en "($B$a$N commit$z ahead) " &amp;&amp; g=0;b=$(echo "$s" | grep "# branch.ab " | cut -d" " -f4 | cut -c2-);[ "$b" == "1" ] || y="s";[ "$b" != "0" ] &amp;&amp; echo -en "($B$b$N commit$y behind) " &amp;&amp; g=0;fi;fi;echo "$s" | grep -q "^[u12] [^.]." &amp;&amp; echo -en "(${G}staged changes$N) " &amp;&amp; g=0;echo "$s" | grep -q "^[u12] .[^.]" &amp;&amp; echo -en "(${R}unstaged changes$N) " &amp;&amp; g=0;echo "$s" | grep -q "^\?" &amp;&amp; echo -en "(${R}untracked changes$N) " &amp;&amp; g=0;[ -f .git/REBASE_HEAD ] &amp;&amp; echo -en "(${M}rebasing$N) " &amp;&amp; g=0;[ -f .git/CHERRY_PICK_HEAD ] &amp;&amp; echo -en "(${M}cherry pick$N) " &amp;&amp; g=0;[ -f .git/MERGE_HEAD ] &amp;&amp; echo -en "(${M}merging$N) " &amp;&amp; g=0;[ -f .git/BISECT_LOG ] &amp;&amp; echo -en "(${M}bisecting$N) " &amp;&amp; g=0;t=$(git stash list -z --pretty=format:"A" | tr -d "\0" | wc -c);[ "$t" == "1" ] || x="es";[ "$t" != "0" ] &amp;&amp; echo -en "($B$t$N stash$x) " &amp;&amp; g=0;[ "$g" == "1" ] &amp;&amp; echo -n "good";echo'</span><span class="s2">"'"</span><span class="s1">' \;'</span>
</code></pre></div></div><p>Uncompressed</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash</span>
find <span class="nb">.</span> <span class="nt">-type</span> d <span class="nt">-name</span> <span class="s1">'.git'</span> <span class="nt">-exec</span> bash <span class="nt">-c</span> <span class="s1">'
    cd {}/..
    echo -ne "{}\t"
    BLUE="\e[1m"
    GREEN="\e[42m"
    RED="\e[41m"
    MAGENTA="\e[45m"
    RESET="\e[0m"
    status=$(git status --porcelain=v2 --branch -z | tr "\0" "\n")
    good=1
    [[ "${status}" == *"branch.oid (initial)"* ]] &amp;&amp; initial=1 &amp;&amp; good=0
    if [ "$initial" = "1" ]
        then echo -n "(initial) "
    else [[ "${status}" == *"branch.head (detached)"* ]] &amp;&amp; headDet=1 &amp;&amp; good=0
        if [ "$headDet" = "1" ]
            then echo -en "(${RED}detached head${RESET}) "
            good="0"
        else ahead=$(echo "${status}" | grep "# branch.ab " | cut -d" " -f3 | cut -c2-)
            [ "${ahead}" == "1" ] || plural1="s"
            [ "${ahead}" != "0" ] &amp;&amp; echo -en "(${BLUE}${ahead}${RESET} commit${plural1} ahead) " &amp;&amp; good=0
            behind=$(echo "${status}" | grep "# branch.ab " | cut -d" " -f4 | cut -c2-)
            [ "${behind}" == "1" ] || plural2="s"
            [ "${behind}" != "0" ] &amp;&amp; echo -en "(${BLUE}${behind}${RESET} commit${plural2} behind) " &amp;&amp; good=0
        fi
    fi
    echo "${status}" | grep -q "^[u12] [^.]." &amp;&amp; echo -en "(${GREEN}staged changes${RESET}) " &amp;&amp; good=0
    echo "${status}" | grep -q "^[u12] .[^.]" &amp;&amp; echo -en "(${RED}unstaged changes${RESET}) " &amp;&amp; good=0
    echo "${status}" | grep -q "^\?" &amp;&amp; echo -en "(${RED}untracked changes${RESET}) " &amp;&amp; good=0
    [ -f .git/REBASE_HEAD ] &amp;&amp; echo -en "(${MAGENTA}rebasing${RESET}) " &amp;&amp; good=0
    [ -f .git/CHERRY_PICK_HEAD ] &amp;&amp; echo -en "(${MAGENTA}cherry pick${RESET}) " &amp;&amp; good=0
    [ -f .git/MERGE_HEAD ] &amp;&amp; echo -en "(${MAGENTA}merging${RESET}) " &amp;&amp; good=0
    [ -f .git/BISECT_LOG ] &amp;&amp; echo -en "(${MAGENTA}bisecting${RESET}) " &amp;&amp; good=0
    numStash=$(git stash list -z --pretty=format:"A" | tr -d "\0" | wc --bytes)
    [ "${numStash}" == "1" ] || plural3="es"
    [ "${numStash}" != "0" ] &amp;&amp; echo -en "(${BLUE}${numStash}${RESET} stash${plural3}) " &amp;&amp; good=0
    [ "$good" == "1" ] &amp;&amp; echo -n "good"
    echo
'</span> <span class="se">\;</span>
</code></pre></div></div></div><a class="u-url" href="/p/2023/05/29/git-status-check-recursive.html" hidden></a></article></div></main><footer class="site-footer h-card"><div class="wrapper footer-main"><div class="footer-col-wrapper"> <a class="footer-heading" rel="author" href="/">Calvin Lei-Cramer</a><div class="footer-col footer-col-1"><ul class="contact-list"><ul class="social-media-list"><li><a href="https://github.com/calvincramer"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg><span class="username">calvincramer</span></a><li><a href="/assets/calvin-lei-cramer-resume.pdf" download="calvin-lei-cramer-resume.pdf"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#resume"></use></svg><span class="username">Resume</span></a><li><a href="mailto:calvincramer at gmail"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#email"></use></svg><span class="username">calvincramer at gmail</span></a><li><a href="https://www.linkedin.com/in/calvincramer"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg><span class="username">calvincramer</span></a></ul></ul></div></div><div id="mlb2-24621319" class="ml-form-embedContainer ml-subscribe-form ml-subscribe-form-24621319"><div class="ml-form-align-center"><div class="ml-form-embedWrapper embedForm"><div class="ml-form-embedBody ml-form-embedBodyDefault row-form"><div class="ml-form-embedContent"><h4 id="ml-form-title">Get notified for new posts!</h4></div><form class="ml-block-form" action="https://assets.mailerlite.com/jsonp/1434673/forms/151160882995398042/subscribe" data-code="" method="post" target="_blank"><div class="ml-form-formContent"><div class="ml-form-fieldRow ml-last-item"><div class="ml-field-group ml-field-email ml-validate-email ml-validate-required"> <input aria-label="email" aria-required="true" type="email" class="form-control" data-inputmask="" name="fields[email]" placeholder="Your email..." autocomplete="email"></div></div></div><input type="hidden" name="ml-submit" value="1"><div class="ml-form-embedSubmit"> <button type="submit" class="primary subscribe-button">Subscribe</button> <button disabled="disabled" style="display: none;" type="button" class="loading"><div class="ml-form-embedSubmitLoad"></div><span class="sr-only">Loading...</span> </button></div><input type="hidden" name="anticsrf" value="true"> </form></div><div class="ml-form-successBody row-success" style="display: none"><div class="ml-form-successContent"><h4>Successfully added!</h4><p>You will receive an email for each new post.</p></div></div></div></div></div></div></footer><style type="text/css"> /* LOADER */ .ml-form-embedSubmitLoad { display: inline-block; width: 20px; height: 20px; } .g-recaptcha { transform: scale(1); -webkit-transform: scale(1); transform-origin: 0 0; -webkit-transform-origin: 0 0; /* height: ; */ } .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0; } .ml-form-embedSubmitLoad:after { content: " "; display: block; width: 11px; height: 11px; margin: 1px; border-radius: 50%; border: 4px solid #fff; border-color: #ffffff #ffffff #ffffff transparent; animation: ml-form-embedSubmitLoad 1.2s linear infinite; } @keyframes ml-form-embedSubmitLoad { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } } #ml-form-title { color: #bf1d50 !important; } #mlb2-24621319.ml-form-embedContainer { box-sizing: border-box; display: table; margin: 0 auto; position: static; width: 100% !important; } #mlb2-24621319.ml-form-embedContainer h4, #mlb2-24621319.ml-form-embedContainer p, #mlb2-24621319.ml-form-embedContainer span, #mlb2-24621319.ml-form-embedContainer button { text-transform: none !important; letter-spacing: normal !important; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper { /* background-color: #f6f6f6; */ border-width: 0px; border-color: transparent; border-radius: 4px; border-style: solid; box-sizing: border-box; display: inline-block !important; margin: 0; padding: 0; position: relative; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper.embedPopup, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper.embedDefault { width: 400px; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper.embedForm { max-width: 400px; width: 100%; } #mlb2-24621319.ml-form-embedContainer .ml-form-align-left { text-align: left; } #mlb2-24621319.ml-form-embedContainer .ml-form-align-center { text-align: center; } #mlb2-24621319.ml-form-embedContainer .ml-form-align-default { display: table-cell !important; vertical-align: middle !important; text-align: center !important; } #mlb2-24621319.ml-form-embedContainer .ml-form-align-right { text-align: right; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedHeader img { border-top-left-radius: 4px; border-top-right-radius: 4px; height: auto; margin: 0 auto !important; max-width: 100%; width: undefinedpx; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody { /* padding: 20px 20px 0 20px; */ } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody.ml-form-embedBodyHorizontal { padding-bottom: 0; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody .ml-form-successContent { text-align: left; margin: 0 0 10px 0; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent h4, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody .ml-form-successContent h4 { color: #BF1D50; /* font-family: 'Open Sans', Arial, Helvetica, sans-serif; */ font-size: 18px; /* font-weight: 400; */ margin: 0 0 5px 0; text-align: left; word-break: break-word; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent p, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody .ml-form-successContent p { color: #BF1D50; /* font-family: 'Open Sans', Arial, Helvetica, sans-serif; */ font-size: 14px; font-weight: 400; line-height: 20px; margin: 0 0 10px 0; text-align: left; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent ul, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent ol, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody .ml-form-successContent ul, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody .ml-form-successContent ol { color: #BF1D50; /* font-family: 'Open Sans', Arial, Helvetica, sans-serif; */ font-size: 14px; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent ol ol, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody .ml-form-successContent ol ol { list-style-type: lower-alpha; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent ol ol ol, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody .ml-form-successContent ol ol ol { list-style-type: lower-roman; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent p a, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody .ml-form-successContent p a { color: #BF1D50; text-decoration: underline; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-block-form .ml-field-group { text-align: left !important; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-block-form .ml-field-group label { margin-bottom: 5px; color: #333333; font-size: 14px; /* font-family: 'Open Sans', Arial, Helvetica, sans-serif; */ font-weight: bold; font-style: normal; text-decoration: none; ; display: inline-block; line-height: 20px; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent p:last-child, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody .ml-form-successContent p:last-child { margin: 0; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody form { margin: 0; width: 100%; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-formContent, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow { margin: 0 0 10px 0; width: 100%; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow { float: left; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-formContent.horozintalForm { margin: 0; padding: 0 0 10px 0; width: 100%; height: auto; float: left; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow { margin: 0 0 10px 0; width: 100%; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow.ml-last-item { margin: 0; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow.ml-formfieldHorizintal { margin: 0; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow input { background-color: transparent !important; color: #ffffff !important; border-color: #BF1D50; border-radius: 4px !important; border-style: solid !important; border-width: 1px !important; /* font-family: 'Open Sans', Arial, Helvetica, sans-serif; */ font-size: 14px !important; height: auto; line-height: 18px !important; margin-bottom: 0; margin-top: 0; margin-left: 0; margin-right: 0; padding: 10px 10px !important; width: 100% !important; box-sizing: border-box !important; max-width: 100% !important; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow input::-webkit-input-placeholder, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow input::-webkit-input-placeholder { color: #77898b; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow input::-moz-placeholder, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow input::-moz-placeholder { color: #77898b; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow input:-ms-input-placeholder, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow input:-ms-input-placeholder { color: #77898b; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow input:-moz-placeholder, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow input:-moz-placeholder { color: #77898b; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow textarea, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow textarea { background-color: #ffffff !important; color: #333333 !important; border-color: #cccccc; border-radius: 4px !important; border-style: solid !important; border-width: 1px !important; /* font-family: 'Open Sans', Arial, Helvetica, sans-serif; */ font-size: 14px !important; height: auto; line-height: 21px !important; margin-bottom: 0; margin-top: 0; padding: 10px 10px !important; width: 100% !important; box-sizing: border-box !important; max-width: 100% !important; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-radio .custom-control-label::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-radio .custom-control-label::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-checkbox .custom-control-label::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-checkbox .custom-control-label::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsOptionsCheckbox .label-description::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-interestGroupsRow .ml-form-interestGroupsRowCheckbox .label-description::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow .label-description::before { border-color: #cccccc !important; background-color: #ffffff !important; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow input.custom-control-input[type="checkbox"] { box-sizing: border-box; padding: 0; position: absolute; z-index: -1; opacity: 0; margin-top: 5px; margin-left: -1.5rem; overflow: visible; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-checkbox .custom-control-label::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-checkbox .custom-control-label::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsOptionsCheckbox .label-description::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-interestGroupsRow .ml-form-interestGroupsRowCheckbox .label-description::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow .label-description::before { border-radius: 4px !important; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow input[type=checkbox]:checked~.label-description::after, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsOptionsCheckbox input[type=checkbox]:checked~.label-description::after, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-checkbox .custom-control-input:checked~.custom-control-label::after, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-checkbox .custom-control-input:checked~.custom-control-label::after, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-interestGroupsRow .ml-form-interestGroupsRowCheckbox input[type=checkbox]:checked~.label-description::after { background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26 2.974 7.25 8 2.193z'/%3e%3c/svg%3e"); } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-radio .custom-control-input:checked~.custom-control-label::after, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-radio .custom-control-input:checked~.custom-control-label::after { background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e"); } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-radio .custom-control-input:checked~.custom-control-label::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-radio .custom-control-input:checked~.custom-control-label::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-checkbox .custom-control-input:checked~.custom-control-label::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-checkbox .custom-control-input:checked~.custom-control-label::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsOptionsCheckbox input[type=checkbox]:checked~.label-description::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-interestGroupsRow .ml-form-interestGroupsRowCheckbox input[type=checkbox]:checked~.label-description::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow input[type=checkbox]:checked~.label-description::before { border-color: #000000 !important; background-color: #000000 !important; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-radio .custom-control-label::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-radio .custom-control-label::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-radio .custom-control-label::after, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-radio .custom-control-label::after, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-checkbox .custom-control-label::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-checkbox .custom-control-label::after, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-checkbox .custom-control-label::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-checkbox .custom-control-label::after { top: 2px; box-sizing: border-box; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsOptionsCheckbox .label-description::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsOptionsCheckbox .label-description::after, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow .label-description::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow .label-description::after { top: 0px !important; box-sizing: border-box !important; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow .label-description::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow .label-description::after { top: 0px !important; box-sizing: border-box !important; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-interestGroupsRow .ml-form-interestGroupsRowCheckbox .label-description::after { top: 0px !important; box-sizing: border-box !important; position: absolute; left: -1.5rem; display: block; width: 1rem; height: 1rem; content: ""; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-interestGroupsRow .ml-form-interestGroupsRowCheckbox .label-description::before { top: 0px !important; box-sizing: border-box !important; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .custom-control-label::before { position: absolute; top: 4px; left: -1.5rem; display: block; width: 16px; height: 16px; pointer-events: none; content: ""; background-color: #ffffff; border: #adb5bd solid 1px; border-radius: 50%; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .custom-control-label::after { position: absolute; top: 2px !important; left: -1.5rem; display: block; width: 1rem; height: 1rem; content: ""; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsOptionsCheckbox .label-description::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-interestGroupsRow .ml-form-interestGroupsRowCheckbox .label-description::before, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow .label-description::before { position: absolute; top: 4px; left: -1.5rem; display: block; width: 16px; height: 16px; pointer-events: none; content: ""; background-color: #ffffff; border: #adb5bd solid 1px; border-radius: 50%; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsOptionsCheckbox .label-description::after { position: absolute; top: 0px !important; left: -1.5rem; display: block; width: 1rem; height: 1rem; content: ""; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow .label-description::after { position: absolute; top: 0px !important; left: -1.5rem; display: block; width: 1rem; height: 1rem; content: ""; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .custom-radio .custom-control-label::after { background: no-repeat 50%/50% 50%; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .custom-checkbox .custom-control-label::after, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsOptionsCheckbox .label-description::after, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-interestGroupsRow .ml-form-interestGroupsRowCheckbox .label-description::after, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow .label-description::after { background: no-repeat 50%/50% 50%; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-control, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-control { position: relative; display: block; min-height: 1.5rem; padding-left: 1.5rem; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-radio .custom-control-input, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-radio .custom-control-input, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-checkbox .custom-control-input, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-checkbox .custom-control-input { position: absolute; z-index: -1; opacity: 0; box-sizing: border-box; padding: 0; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-radio .custom-control-label, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-radio .custom-control-label, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-checkbox .custom-control-label, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-checkbox .custom-control-label { color: #000000; font-size: 12px !important; /* font-family: 'Open Sans', Arial, Helvetica, sans-serif; */ line-height: 22px; margin-bottom: 0; position: relative; vertical-align: top; font-style: normal; font-weight: 700; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-select, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-select { background-color: #ffffff !important; color: #333333 !important; border-color: #cccccc; border-radius: 4px !important; border-style: solid !important; border-width: 1px !important; /* font-family: 'Open Sans', Arial, Helvetica, sans-serif; */ font-size: 14px !important; line-height: 20px !important; margin-bottom: 0; margin-top: 0; padding: 10px 28px 10px 12px !important; width: 100% !important; box-sizing: border-box !important; max-width: 100% !important; height: auto; display: inline-block; vertical-align: middle; background: url('https://assets.mlcdn.com/ml/images/default/dropdown.svg') no-repeat right .75rem center/8px 10px; -webkit-appearance: none; -moz-appearance: none; appearance: none; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow { height: auto; width: 100%; float: left; } .ml-form-formContent.horozintalForm .ml-form-horizontalRow .ml-input-horizontal { width: 70%; float: left; } .ml-form-formContent.horozintalForm .ml-form-horizontalRow .ml-button-horizontal { width: 30%; float: left; } .ml-form-formContent.horozintalForm .ml-form-horizontalRow .ml-button-horizontal.labelsOn { padding-top: 25px; } .ml-form-formContent.horozintalForm .ml-form-horizontalRow .horizontal-fields { box-sizing: border-box; float: left; padding-right: 10px; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow input { background-color: #ffffff; color: #333333; border-color: #cccccc; border-radius: 4px; border-style: solid; border-width: 1px; /* font-family: 'Open Sans', Arial, Helvetica, sans-serif; */ font-size: 14px; line-height: 20px; margin-bottom: 0; margin-top: 0; padding: 10px 10px; width: 100%; box-sizing: border-box; overflow-y: initial; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow button { background-color: #000000 !important; border-color: #000000; border-style: solid; border-width: 1px; border-radius: 4px; box-shadow: none; color: #ffffff !important; cursor: pointer; /* font-family: 'Open Sans', Arial, Helvetica, sans-serif; */ font-size: 14px !important; font-weight: 700; line-height: 20px; margin: 0 !important; padding: 10px !important; width: 100%; height: auto; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow button:hover { background-color: #333333 !important; border-color: #333333 !important; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow input[type="checkbox"] { box-sizing: border-box; padding: 0; position: absolute; z-index: -1; opacity: 0; margin-top: 5px; margin-left: -1.5rem; overflow: visible; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow .label-description { color: #000000; display: block; /* font-family: 'Open Sans', Arial, Helvetica, sans-serif; */ font-size: 12px; text-align: left; margin-bottom: 0; position: relative; /* vertical-align: top; */ } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow label { font-weight: normal; margin: 0; padding: 0; position: relative; display: block; min-height: 24px; padding-left: 24px; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow label a { color: #000000; text-decoration: underline; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow label p { color: #000000 !important; /* font-family: 'Open Sans', Arial, Helvetica, sans-serif !important; */ font-size: 12px !important; font-weight: normal !important; line-height: 18px !important; padding: 0 !important; margin: 0 5px 0 0 !important; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow label p:last-child { margin: 0; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedSubmit { margin: 0 0 10px 0; float: left; width: 100%; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedSubmit button { background-color: #530923 !important; border: none !important; border-radius: 4px !important; box-shadow: none !important; color: #ffffff !important; cursor: pointer; /* font-family: 'Open Sans', Arial, Helvetica, sans-serif !important; */ font-size: 14px !important; font-weight: 700 !important; line-height: 21px !important; height: auto; padding: 10px !important; width: 100% !important; box-sizing: border-box !important; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedSubmit button.loading { display: none; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedSubmit button:hover { background-color: #7C1334 !important; } .ml-subscribe-close { width: 30px; height: 30px; background: url('https://assets.mlcdn.com/ml/images/default/modal_close.png') no-repeat; background-size: 30px; cursor: pointer; margin-top: -10px; margin-right: -10px; position: absolute; top: 0; right: 0; } .ml-error input, .ml-error textarea, .ml-error select { border-color: red !important; } .ml-error .custom-checkbox-radio-list { border: 1px solid red !important; border-radius: 4px; padding: 10px; } .ml-error .label-description, .ml-error .label-description p, .ml-error .label-description p a, .ml-error label:first-child { color: #ff0000 !important; } #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow.ml-error .label-description p, #mlb2-24621319.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow.ml-error .label-description p:first-letter { color: #ff0000 !important; } @media only screen and (max-width: 400px) { .ml-form-embedWrapper.embedDefault, .ml-form-embedWrapper.embedPopup { width: 100% !important; } .ml-form-formContent.horozintalForm { float: left !important; } .ml-form-formContent.horozintalForm .ml-form-horizontalRow { height: auto !important; width: 100% !important; float: left !important; } .ml-form-formContent.horozintalForm .ml-form-horizontalRow .ml-input-horizontal { width: 100% !important; } .ml-form-formContent.horozintalForm .ml-form-horizontalRow .ml-input-horizontal>div { padding-right: 0px !important; padding-bottom: 10px; } .ml-form-formContent.horozintalForm .ml-button-horizontal { width: 100% !important; } .ml-form-formContent.horozintalForm .ml-button-horizontal.labelsOn { padding-top: 0px !important; } }</style><script> function ml_webform_success_24621319() { var $ = ml_jQuery || jQuery; $('.ml-subscribe-form-24621319 .row-success').show(); $('.ml-subscribe-form-24621319 .row-form').hide(); } </script> <script src="https://groot.mailerlite.com/js/w/webforms.min.js?v176e10baa5e7ed80d35ae235be3d5024" type="text/javascript"></script> <script> fetch("https://assets.mailerlite.com/jsonp/1434673/forms/151160882995398042/takel") </script>
